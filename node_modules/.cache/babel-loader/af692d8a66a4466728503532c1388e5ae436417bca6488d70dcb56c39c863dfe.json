{"ast":null,"code":"import _slicedToArray from\"C:/Users/bhada/OneDrive/Desktop/travel-advisor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{CssBaseline,Grid}from\"@material-ui/core\";import{getPlacesData,getWeatherData}from\"./api/travelAdvisorAPI\";import Header from\"./components/Header/Header\";import List from\"./components/List/List\";import Map from\"./components/Map/Map\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(\"restaurants\"),_useState2=_slicedToArray(_useState,2),type=_useState2[0],setType=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),coords=_useState6[0],setCoords=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),bounds=_useState8[0],setBounds=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),weatherData=_useState10[0],setWeatherData=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),filteredPlaces=_useState12[0],setFilteredPlaces=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),places=_useState14[0],setPlaces=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),autocomplete=_useState16[0],setAutocomplete=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),childClicked=_useState18[0],setChildClicked=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isLoading=_useState20[0],setIsLoading=_useState20[1];useEffect(function(){navigator.geolocation.getCurrentPosition(function(_ref){var _ref$coords=_ref.coords,latitude=_ref$coords.latitude,longitude=_ref$coords.longitude;setCoords({lat:latitude,lng:longitude});});},[]);useEffect(function(){var filtered=places.filter(function(place){return Number(place.rating)>rating;});setFilteredPlaces(filtered);},[rating]);useEffect(function(){if(bounds){setIsLoading(true);getWeatherData(coords.lat,coords.lng).then(function(data){return setWeatherData(data);});getPlacesData(type,bounds.sw,bounds.ne).then(function(data){setPlaces(data.filter(function(place){return place.name&&place.num_reviews>0;}));setFilteredPlaces([]);setRating(\"\");setIsLoading(false);});}},[bounds,type]);var onLoad=function onLoad(autoC){return setAutocomplete(autoC);};var onPlaceChanged=function onPlaceChanged(){var lat=autocomplete.getPlace().geometry.location.lat();var lng=autocomplete.getPlace().geometry.location.lng();setCoords({lat:lat,lng:lng});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Header,{onPlaceChanged:onPlaceChanged,onLoad:onLoad}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(List,{isLoading:isLoading,childClicked:childClicked,places:filteredPlaces.length?filteredPlaces:places,type:type,setType:setType,rating:rating,setRating:setRating})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(Map,{setChildClicked:setChildClicked,setBounds:setBounds,setCoords:setCoords,coords:coords,places:filteredPlaces.length?filteredPlaces:places,weatherData:weatherData})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","CssBaseline","Grid","getPlacesData","getWeatherData","Header","List","Map","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","type","setType","_useState3","_useState4","rating","setRating","_useState5","_useState6","coords","setCoords","_useState7","_useState8","bounds","setBounds","_useState9","_useState10","weatherData","setWeatherData","_useState11","_useState12","filteredPlaces","setFilteredPlaces","_useState13","_useState14","places","setPlaces","_useState15","_useState16","autocomplete","setAutocomplete","_useState17","_useState18","childClicked","setChildClicked","_useState19","_useState20","isLoading","setIsLoading","navigator","geolocation","getCurrentPosition","_ref","_ref$coords","latitude","longitude","lat","lng","filtered","filter","place","Number","then","data","sw","ne","name","num_reviews","onLoad","autoC","onPlaceChanged","getPlace","geometry","location","children","container","spacing","style","width","item","xs","md","length","display","justifyContent","alignItems"],"sources":["C:/Users/bhada/OneDrive/Desktop/travel-advisor/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { CssBaseline, Grid } from \"@material-ui/core\";\r\n\r\nimport { getPlacesData, getWeatherData } from \"./api/travelAdvisorAPI\";\r\nimport Header from \"./components/Header/Header\";\r\nimport List from \"./components/List/List\";\r\nimport Map from \"./components/Map/Map\";\r\n\r\nconst App = () => {\r\n  const [type, setType] = useState(\"restaurants\");\r\n  const [rating, setRating] = useState(\"\");\r\n\r\n  const [coords, setCoords] = useState({});\r\n  const [bounds, setBounds] = useState(null);\r\n\r\n  const [weatherData, setWeatherData] = useState([]);\r\n  const [filteredPlaces, setFilteredPlaces] = useState([]);\r\n  const [places, setPlaces] = useState([]);\r\n\r\n  const [autocomplete, setAutocomplete] = useState(null);\r\n  const [childClicked, setChildClicked] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      ({ coords: { latitude, longitude } }) => {\r\n        setCoords({ lat: latitude, lng: longitude });\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const filtered = places.filter((place) => Number(place.rating) > rating);\r\n\r\n    setFilteredPlaces(filtered);\r\n  }, [rating]);\r\n\r\n  useEffect(() => {\r\n    if (bounds) {\r\n      setIsLoading(true);\r\n\r\n      getWeatherData(coords.lat, coords.lng).then((data) =>\r\n        setWeatherData(data)\r\n      );\r\n\r\n      getPlacesData(type, bounds.sw, bounds.ne).then((data) => {\r\n        setPlaces(data.filter((place) => place.name && place.num_reviews > 0));\r\n        setFilteredPlaces([]);\r\n        setRating(\"\");\r\n        setIsLoading(false);\r\n      });\r\n    }\r\n  }, [bounds, type]);\r\n\r\n  const onLoad = (autoC) => setAutocomplete(autoC);\r\n\r\n  const onPlaceChanged = () => {\r\n    const lat = autocomplete.getPlace().geometry.location.lat();\r\n    const lng = autocomplete.getPlace().geometry.location.lng();\r\n\r\n    setCoords({ lat, lng });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <Header onPlaceChanged={onPlaceChanged} onLoad={onLoad} />\r\n      <Grid container spacing={3} style={{ width: \"100%\" }}>\r\n        <Grid item xs={12} md={4}>\r\n          <List\r\n            isLoading={isLoading}\r\n            childClicked={childClicked}\r\n            places={filteredPlaces.length ? filteredPlaces : places}\r\n            type={type}\r\n            setType={setType}\r\n            rating={rating}\r\n            setRating={setRating}\r\n          />\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          md={8}\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Map\r\n            setChildClicked={setChildClicked}\r\n            setBounds={setBounds}\r\n            setCoords={setCoords}\r\n            coords={coords}\r\n            places={filteredPlaces.length ? filteredPlaces : places}\r\n            weatherData={weatherData}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}